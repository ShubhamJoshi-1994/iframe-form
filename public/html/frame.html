<!doctype html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Laravel</title>

        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.0/jquery-1.8.0.min.js"></script>

        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,600" rel="stylesheet" type="text/css">

       
    </head>
    <body>
        <div id="temp" style="display:none">
            <form method="POST" action="/action_page.php">
                First name:<br>
                <input type="text" id="firstName" name="firstname" value="Mickey"><br>
                Last name:<br>
                <input type="text" id="lastName" name="lastname" value="Mouse"><br><br>
                <input type="button" value="Submit" id="submitButton">
            </form>
        </div>

        <script type="text/javascript">
        
            function doCall(){
                $('#temp').show();
                // document.body.innerHTML = document.getElementById('temp').html();
                // $.get('foo').error(function(){
                //     console.log('frame.html');
                // 	parent.afterCall();
                // });
            }

            $('#submitButton').on('click', function() {
                var payload = {};
                payload = {
                    first_name: $('#firstName').val(),
                    last_name: $('#lastName').val()
                }

                axios.post('/api/iframe-test', payload)
                .then((response) => {
                    console.log('success');
                    $('#temp').hide();
                })
                .catch(error => {
                console.log('err', error);
                });

                console.log('payload', payload);
            })
        </script>
    </body>
</html>
